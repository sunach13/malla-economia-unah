<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malla Interactiva Economía</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #ffe6f0;
      color: #4a004d;
      margin: 0;
      padding: 2rem;
    }
    h1 {
      color: #cc0066;
      text-align: center;
      margin-bottom: 2rem;
    }
    .periodo {
      display: flex;
      flex-wrap: wrap;
      margin-bottom: 2rem;
      gap: 1rem;
    }
    .periodo h2 {
      width: 100%;
      color: #cc0066;
      margin-bottom: 0.5rem;
    }
    .asignatura {
      padding: 1rem;
      border-radius: 12px;
      background-color: #ffcce6;
      cursor: pointer;
      transition: background-color 0.3s;
      flex: 1 1 200px;
    }
    .asignatura.habilitada {
      opacity: 1;
      pointer-events: auto;
    }
    .asignatura.inhabilitada {
      opacity: 0.3;
      pointer-events: none;
    }
    .asignatura.aprobada {
      background-color: #d63384;
      color: white;
    }
  </style>
</head>
<body>
  <h1>Malla Interactiva - Economía</h1>
  <div id="contenedor"></div>

  <script>
    const malla = [
      { periodo: "PRIMER PERÍODO", asignaturas: [
        { codigo: "HH-101", nombre: "Historia de Honduras", requisitos: [] },
        { codigo: "FF-101", nombre: "Filosofía", requisitos: [] },
        { codigo: "DET-175", nombre: "Métodos Cuantitativos I", requisitos: [] },
        { codigo: "SC-101", nombre: "Sociología", requisitos: [] },
        { codigo: "EG-011", nombre: "Español General", requisitos: [] }
      ]},
      { periodo: "SEGUNDO PERÍODO", asignaturas: [
        { codigo: "DAE-205", nombre: "Computación I", requisitos: ["DET-175"] },
        { codigo: "CE-020", nombre: "Principios de Economía", requisitos: ["DET-175"] },
        { codigo: "CF-014", nombre: "Contabilidad I", requisitos: ["DET-175"] },
        { codigo: "DET-280", nombre: "Métodos Cuantitativos II", requisitos: ["DET-175"] },
        { codigo: "IN-101", nombre: "Inglés", requisitos: [] }
      ]},
      { periodo: "TERCER PERÍODO", asignaturas: [
        { codigo: "CE-023", nombre: "Historia y Pensamiento Económico", requisitos: ["CE-020", "HH-101", "FF-101"] },
        { codigo: "CE-040", nombre: "Microeconomía I", requisitos: ["CE-020", "DET-280"] },
        { codigo: "CE-053", nombre: "Cuentas Nacionales", requisitos: ["CF-014", "CE-020"] },
        { codigo: "DET-385", nombre: "Métodos Cuantitativos III", requisitos: ["DET-280"] },
        { codigo: "EO-025", nombre: "Redacción General", requisitos: [] }
      ]},
      { periodo: "CUARTO PERÍODO", asignaturas: [
        { codigo: "CE-065", nombre: "Estadística Económica", requisitos: ["DET-280", "CE-053"] },
        { codigo: "CE-075", nombre: "Macroeconomía", requisitos: ["CE-040"] },
        { codigo: "CE-084", nombre: "Microeconomía II", requisitos: ["DET-385", "CE-040"] },
        { codigo: "DET-390", nombre: "Métodos Cuantitativos IV", requisitos: ["DET-385"] },
        { codigo: "BI-130", nombre: "Educación Ambiental", requisitos: [] },
        { codigo: "RR-171-191", nombre: "Arte o deporte", requisitos: [] }
      ]},
      { periodo: "QUINTO PERÍODO", asignaturas: [
        { codigo: "CE-094", nombre: "Met. y Técnicas de Investigación", requisitos: ["CE-065", "CE-075"] },
        { codigo: "CE-106", nombre: "Estadística Económica II", requisitos: ["CE-065", "CE-075"] },
        { codigo: "CE-118", nombre: "Economía Financiera", requisitos: ["CE-053", "CE-084"] },
        { codigo: "CE-135", nombre: "Economía de los Recursos Humanos", requisitos: ["CE-075", "CE-084"] },
        { codigo: "CE-131", nombre: "Macroeconomía II", requisitos: ["CE-075", "DET-390"] },
        { codigo: "CF-030", nombre: "Métodos Cuantitativos en Finanzas I", requisitos: ["DET-280"] }
      ]},
      { periodo: "SEXTO PERÍODO", asignaturas: [
        { codigo: "CE-147", nombre: "Preparación y Evaluación de Proyectos", requisitos: ["CE-118"] },
        { codigo: "CE-157", nombre: "Economía Agrícola", requisitos: ["CE-118", "CE-131"] },
        { codigo: "CE-166", nombre: "Moneda y Banca", requisitos: ["CE-131"] },
        { codigo: "CE-176", nombre: "Finanzas Publicas", requisitos: ["CE-131"] },
        { codigo: "CE-186", nombre: "Economía Matemática", requisitos: ["CE-084", "DET-390"] },
        { codigo: "CF-050", nombre: "Métodos Cuantitativos en Finanzas II", requisitos: ["CF-030"] }
      ]},
      { periodo: "SÉPTIMO PERÍODO", asignaturas: [
        { codigo: "CE-198", nombre: "Met. y Técnicas de Investigación II", requisitos: ["CE-094", "CE-106"] },
        { codigo: "CE-207", nombre: "Economía de Recursos Naturales", requisitos: ["CE-157"] },
        { codigo: "CE-217", nombre: "Econometría", requisitos: ["CE-186", "CE-106", "CE-131"] },
        { codigo: "CE-227", nombre: "Integración Económica", requisitos: ["CE-166", "CE-176"] },
        { codigo: "CE-237", nombre: "Economía de la Empresa", requisitos: ["CE-147"] }
      ]},
      { periodo: "OCTAVO PERÍODO", asignaturas: [
        { codigo: "CE-248", nombre: "Teoría Econ. Avanzada", requisitos: ["CE-217"] },
        { codigo: "CE-258", nombre: "Teoría y Polit. Comercio Internacional", requisitos: ["CE-227"] },
        { codigo: "CE-268", nombre: "Economía Industrial", requisitos: ["CE-227"] },
        { codigo: "CE-278", nombre: "Teoría y Tecn. Planificación", requisitos: ["CE-227"] },
        { codigo: "CE-288", nombre: "Economía Política", requisitos: ["CE-227"] }
      ]},
      { periodo: "NOVENO PERÍODO", asignaturas: [
        { codigo: "CE-299", nombre: "Negocios Económicos Internacionales", requisitos: ["CE-258"] },
        { codigo: "CE-309", nombre: "Análisis Económico de Honduras", requisitos: ["CE-248"] },
        { codigo: "CE-319", nombre: "Teorías y Políticas del Desarrollo Económico", requisitos: ["CE-248"] },
        { codigo: "CE-329", nombre: "Política Económica", requisitos: ["CE-288", "CE-248"] },
        { codigo: "CE-339", nombre: "Taller de Investigación", requisitos: ["CE-309", "CE-329"] }
      ]}
    ];

    const aprobadas = new Set();
    const contenedor = document.getElementById("contenedor");

    function render() {
      contenedor.innerHTML = "";
      malla.forEach(({ periodo, asignaturas }) => {
        const periodoDiv = document.createElement("div");
        periodoDiv.className = "periodo";
        const h2 = document.createElement("h2");
        h2.textContent = periodo;
        periodoDiv.appendChild(h2);

        asignaturas.forEach((asig) => {
          const card = document.createElement("div");
          card.className = "asignatura";
          card.textContent = `${asig.codigo} - ${asig.nombre}`;

          const requisitosCumplidos = asig.requisitos.every(r => aprobadas.has(r));
          card.classList.add(requisitosCumplidos ? "habilitada" : "inhabilitada");
          if (aprobadas.has(asig.codigo)) card.classList.add("aprobada");

          if (requisitosCumplidos || aprobadas.has(asig.codigo)) {
            card.addEventListener("click", () => {
              if (aprobadas.has(asig.codigo)) {
                aprobadas.delete(asig.codigo);
              } else {
                aprobadas.add(asig.codigo);
              }
              render();
            });
          }

          periodoDiv.appendChild(card);
        });

        contenedor.appendChild(periodoDiv);
      });
    }

    render();
  </script>
</body>
</html>
